================================================================================
                    RELIC RAIDER - COMPLETE TESTING GUIDE
================================================================================

This document provides a comprehensive guide for testing all components of the
Relic Raider game, including UI screens, menus, game logic, and pathfinding.

================================================================================
                            TABLE OF CONTENTS
================================================================================

1. Environment Setup & Verification
2. Running the Full Game Application
3. Testing UI Screens (Win/Lose/Pause/HowToPlay)
4. Running Unit Tests
5. Testing Individual Components
6. Build & Compilation Commands
7. Troubleshooting

================================================================================
                    1. ENVIRONMENT SETUP & VERIFICATION
================================================================================

Verify Java Installation:
  $ java -version
  Expected: Java 24 or higher
  
Verify Maven Installation:
  $ mvn -version
  Expected: Maven 3.x.x

Verify Project Compiles:
  $ mvn clean compile
  Expected: BUILD SUCCESS

================================================================================
                    2. RUNNING THE FULL GAME APPLICATION
================================================================================

Description:
  Launches the complete game with main menu, gameplay, and all features.
  This is the main entry point for playing the game.

Command:
  $ mvn javafx:run

What You'll See:
  - Main menu screen with "Play", "How to Play", and "Quit" buttons
  - Game window when you click "Play"
  - HUD showing score and time
  - Game over screens (win/lose) when conditions are met

Keyboard Controls:
  - Arrow Keys or WASD: Move player
  - P or ESC: Pause game
  - ESC: Return to menu (from pause screen)

Expected Behavior:
  - Menu navigation works
  - Game starts and runs smoothly
  - Pause screen appears when pressing P/ESC
  - Win/Lose screens appear when conditions are met
  - Main Menu button returns to menu from all screens

================================================================================
                    3. TESTING UI SCREENS
================================================================================

3.1. Win/Lose/Pause Screens Demo
---------------------------------
Description:
  Standalone demo application that displays all overlay screens (Win, Lose, Pause)
  with buttons to toggle between them. Useful for testing screen appearance and
  styling without needing to play through the game.

Command:
  $ mvn compile exec:java -Dexec.mainClass="game.ui.ShowScreensDemo"        # still cannot fully come out of this one

OR (if javafx plugin is configured):
  Temporarily change pom.xml line 80 to:
    <mainClass>game.ui.ShowScreensDemo</mainClass>
  Then run: $ mvn javafx:run

What You'll See:
  - Control panel with 4 buttons:
    * "Show Win Screen" - Displays victory screen with gold accents
    * "Show Lose Screen" - Displays game over screen with red accents
    * "Show Pause Screen" - Displays pause overlay with blue accents
    * "Back to Menu" - Hides all overlay screens

Expected Behavior:
  - Each button shows the corresponding screen
  - Screens are properly styled with correct colors
  - Buttons have hover effects
  - Final score displays correctly (1234 for win, 567 for lose)

3.2. Main Menu Screen
----------------------
Description:
  The main entry point of the game. Tested automatically when running the full
  game, but can be accessed directly.

How to Test:
  Run the full game: $ mvn javafx:run
  The main menu appears automatically.

Features to Test:
  - "Play" button starts the game
  - "How to Play" button shows instructions
  - "Quit" button closes the application
  - All buttons have proper styling and hover effects

3.3. How to Play Screen
------------------------
Description:
  Instructions screen showing game controls, objectives, enemies, and rewards.

How to Test:
  Run the full game: $ mvn javafx:run
  Click "How to Play" from the main menu
  Click "Back to Menu" to return

Features to Test:
  - Scrollable content (if instructions are long)
  - Proper formatting and colors
  - Back button returns to main menu
  - All text is readable

3.4. Win Screen
---------------
Description:
  Victory screen displayed when player wins (collects all rewards and reaches exit).

How to Test:
  Method 1: Use ShowScreensDemo (see 3.1)
  Method 2: Play the game and win
  Method 3: Modify Game.java to force win condition

Command for Method 2:
  $ mvn javafx:run
  Then play until you collect all rewards and reach exit

Features to Test:
  - "VICTORY!" title in gold with drop shadow
  - Final score displays correctly
  - "Play Again" button restarts the game
  - "Main Menu" button returns to main menu
  - Screen overlays correctly on game canvas

3.5. Lose Screen
----------------
Description:
  Game over screen displayed when player loses (collides with enemy or score < 0).

How to Test:
  Method 1: Use ShowScreensDemo (see 3.1)
  Method 2: Play the game and lose (hit enemy or step on too many spikes)
  Method 3: Modify Game.java to force lose condition

Command for Method 2:
  $ mvn javafx:run
  Then intentionally lose (collide with enemy)

Features to Test:
  - "GAME OVER" title in red with drop shadow
  - "Better luck next time!" message
  - Final score displays correctly
  - "Try Again" button restarts the game
  - "Main Menu" button returns to main menu
  - Screen overlays correctly on game canvas

3.6. Pause Screen
------------------
Description:
  Overlay screen that appears when game is paused (P or ESC key).

How to Test:
  Method 1: Use ShowScreensDemo (see 3.1)
  Method 2: Play the game and press P or ESC

Command for Method 2:
  $ mvn javafx:run
  Click "Play", then press P or ESC during gameplay

Features to Test:
  - "PAUSED" title in white with drop shadow
  - Semi-transparent dark overlay
  - "Resume" button continues the game
  - "Restart" button restarts the game
  - "Main Menu" button returns to main menu
  - Game state is preserved when paused
  - P/ESC key toggles pause state

================================================================================
                        4. RUNNING UNIT TESTS
================================================================================

4.1. Run All Tests
-------------------
Description:
  Executes all unit tests in the project, including Game tests and A* pathfinding tests.

Command:
  $ mvn test

Expected Output:
  - Tests run: 35 total
  - GameTest: 20 tests
  - AStarPathfindingTest: 15 tests
  - All tests should pass

4.2. Run Specific Test Class
------------------------------
Description:
  Run tests for a specific component.

Game Core Tests:
  $ mvn test -Dtest=GameTest

Pathfinding Tests:
  $ mvn test -Dtest=AStarPathfindingTest

4.3. Run Tests with Verbose Output
-----------------------------------
Description:
  See detailed output of each test execution.

Command:
  $ mvn test -X

OR for more readable output:
  $ mvn test -Dtest=GameTest -X

4.4. Skip Tests (Build Only)
-----------------------------
Description:
  Compile the project without running tests (faster build).

Command:
  $ mvn clean compile -DskipTests

================================================================================
                    5. TESTING INDIVIDUAL COMPONENTS
================================================================================

5.1. Test Canvas Rendering
---------------------------
Description:
  Standalone test application for testing sprite rendering and canvas drawing.

Command:
  $ mvn compile exec:java -Dexec.mainClass="game.ui.TestCanvasApp"

What It Tests:
  - Sprite loading and rendering
  - Canvas drawing functionality
  - Tile sprite display

5.2. Test Game Logic Only (No UI)
----------------------------------
Description:
  Test the core Game class logic without JavaFX UI.

How to Test:
  Create a simple test class that calls Game methods directly:
  - Game.builder() pattern
  - Game.tick() method
  - Collision detection
  - Win/lose conditions

See: src/test/java/game/core/GameTest.java for examples

5.3. Test Pathfinding Algorithm
--------------------------------
Description:
  Test the A* pathfinding algorithm in isolation.

Command:
  $ mvn test -Dtest=AStarPathfindingTest

What It Tests:
  - Simple pathfinding (straight line)
  - Pathfinding with obstacles
  - Impossible paths
  - Edge cases (null inputs, out of bounds, etc.)

5.4. Test Door Sprite Logic
-----------------------------
Description:
  Test that door sprite appears/disappears based on reward collection.

How to Test:
  1. Run the game: $ mvn javafx:run
  2. Observe the exit tile - should show door sprite
  3. Collect all basic rewards
  4. Observe the exit tile - door should disappear (showing floor instead)
  5. Player can now reach exit to win

Expected Behavior:
  - Door sprite visible when exit is locked (not all rewards collected)
  - Door sprite hidden when exit is unlocked (all rewards collected)
  - Visual change is immediate when last reward is collected

================================================================================
                    6. BUILD & COMPILATION COMMANDS
================================================================================

6.1. Clean Build
-----------------
Description:
  Remove all compiled files and build artifacts, then rebuild from scratch.

Command:
  $ mvn clean compile

6.2. Compile Only
-----------------
Description:
  Compile source code without running tests.

Command:
  $ mvn compile

6.3. Package Application
------------------------
Description:
  Compile and package the application into a JAR file.

Command:
  $ mvn package

Output JAR Location:
  target/relic-raider-1.0-SNAPSHOT.jar

6.4. Run JAR File
------------------
Description:
  Run the packaged JAR file directly.

Command:
  $ java -jar target/relic-raider-1.0-SNAPSHOT.jar

Note: Requires JavaFX modules to be on module path for full functionality.

6.5. Full Clean Rebuild
------------------------
Description:
  Complete clean and rebuild including tests.

Command:
  $ mvn clean compile test

================================================================================
                            7. TROUBLESHOOTING
================================================================================

7.1. Compilation Errors
-----------------------
Problem: Maven fails to compile
Solution:
  $ mvn clean
  $ mvn compile
  Check for syntax errors in reported files

Common Issues:
  - Missing imports
  - Syntax errors (check for typos in variable names)
  - Missing dependencies (run: mvn dependency:resolve)

7.2. JavaFX Not Loading
------------------------
Problem: Application runs but UI doesn't appear
Solution:
  - Verify JavaFX dependencies are in pom.xml
  - Check that JavaFX modules are accessible
  - Try: mvn clean compile javafx:run

7.3. Sprites Not Loading
-------------------------
Problem: Sprites appear as blank or missing
Solution:
  - Verify sprites exist in: src/main/resources/assets/sprites/
  - Check ResourceLoader.java is working
  - Verify SpriteManager.initialize() is called
  - Check file paths in GameConfig.java

7.4. Tests Failing
-------------------
Problem: Unit tests fail
Solution:
  - Run specific test: mvn test -Dtest=TestName
  - Check test output for specific failure messages
  - Verify test data and expected behavior

7.5. Game Loop Issues
---------------------
Problem: Game runs too fast/slow or doesn't update
Solution:
  - Check GameConfig.GAME_TICK_RATE value
  - Verify GameManager's AnimationTimer is running
  - Check that GameWindow's timer is started

7.6. Main Menu Button Not Working
----------------------------------
Problem: Main Menu button doesn't return to menu
Solution:
  - Verify callbacks are set in GameApp.returnToMenu()
  - Check that stopCurrentGame() is called
  - Verify GameWindow.stop() is working

================================================================================
                          QUICK REFERENCE COMMANDS
================================================================================

# Run full game
mvn javafx:run

# Run screen demo
mvn compile exec:java -Dexec.mainClass="game.ui.ShowScreensDemo"

# Run all tests
mvn test

# Run specific test
mvn test -Dtest=GameTest
mvn test -Dtest=AStarPathfindingTest

# Clean and rebuild
mvn clean compile

# Package application
mvn package

# Check for compilation errors
mvn clean compile

================================================================================
                            TESTING CHECKLIST
================================================================================

UI Components:
  [ ] Main menu displays correctly
  [ ] How to Play screen works and scrolls
  [ ] Win screen appears on victory
  [ ] Lose screen appears on defeat
  [ ] Pause screen toggles with P/ESC
  [ ] All buttons have hover effects
  [ ] Main Menu button returns to menu from all screens

Game Logic:
  [ ] Game starts correctly
  [ ] Player moves with arrow keys/WASD
  [ ] Enemies move with pathfinding
  [ ] Collisions detected correctly
  [ ] Rewards collected properly
  [ ] Score updates correctly
  [ ] Win condition triggers correctly
  [ ] Lose condition triggers correctly

Graphics:
  [ ] Sprites load correctly
  [ ] Door sprite appears when locked
  [ ] Door sprite disappears when unlocked
  [ ] All tiles render correctly
  [ ] HUD displays score and time

Pathfinding:
  [ ] Enemies find path to player
  [ ] Obstacles are avoided
  [ ] Edge cases handled (no path, blocked, etc.)

Integration:
  [ ] Menu -> Game -> Win/Lose -> Menu flow works
  [ ] Pause -> Resume works
  [ ] Pause -> Restart works
  [ ] Pause -> Menu works
  [ ] Win/Lose -> Play Again works
  [ ] Win/Lose -> Main Menu works

================================================================================
                              END OF GUIDE
================================================================================

For more information, see:
  - src/test/java/ - Unit test files
  - documents/Phase2_Implementation_Summary.md - Detailed implementation docs
  - README_PHASE2.md - Phase 2 summary

Last Updated: 2025-11-05

